package app;

import java.awt.image.BufferedImage;
import java.io.File;

import javax.imageio.ImageIO;

import neuralNetwork.BackpropagationTrainer;
import neuralNetwork.NeuralNetwork;
import imageProcessing.FeatureExtractionIOTranslator;
import imageProcessing.INetworkIOTranslator;
import io.CharacterType;

public class MultiNetworkReader {
	public static getTextFromImage(BufferedImage img, CharacterType[] types){
		String[] results = new String[types.length];
		
		INetworkIOTranslator translator = new FeatureExtractionIOTranslator();
		NeuralNetwork network = new NeuralNetwork(((FeatureExtractionIOTranslator)translator).getInputLength(), 1, 160, 7, true);
		
		for (int i = 0; i < types.length; i++){
			NeuralNetwork trainedNetwork = NetworkFactory.getTrainedNetwork(network, translator, types[i], new BackpropagationTrainer(0.05f, 0.02f));
			ImageReader reader = new ImageReader(trainedNetwork, translator);
			results[i] = reader.readTextFromImage(img);
		}
	}
}
