package ui;

import java.io.File;
import java.util.ArrayList;
import java.util.List;

public class TrainingDataNameAssigner {
	private static final String EXTENSION_DELIMITER = "[.]";
	private static final String LOWER_PREFIX = "lower";
	
	private static final int LOWER_START = 97;
	private static final int UPPER_START = 122;
	
	private static final int LOWER_SETNUM_INDEX = 6;
	private static final int NORMAL_SETNUM_INDEX = 1;
	private static final int LOWER_CHAR_INDEX = 5;
	private static final int NORMAL_CHAR_INDEX = 0;
	
	public static String assignName(File trainingDataDir, char character){
		File[] trainingImages = trainingDataDir.listFiles();
		List<Integer> takenNumbers = new ArrayList<Integer>();
		
		int charValue = (int)character;
		boolean isLower = (charValue >= LOWER_START && charValue <= UPPER_START);
		int trainingImgNumberIndex = (isLower ? LOWER_SETNUM_INDEX : NORMAL_SETNUM_INDEX);
		int trainingImgCharIndex = (isLower ? LOWER_CHAR_INDEX : NORMAL_CHAR_INDEX);
		
		for (int i = 0; i < trainingImages.length; i++){
			String nextFilename = trainingImages[i].getName();
			String[] nameParts = nextFilename.split(EXTENSION_DELIMITER);
			
			String nextName = nameParts[0];
			
			Character indexCharacter = (nextName.length() > trainingImgNumberIndex) ? nextName.charAt(trainingImgNumberIndex) : '0';
			char trainingImgChar = nextName.charAt(trainingImgCharIndex);
			
			if (indexCharacter.toString().matches("[0-9]") && trainingImgChar == character){
				int nextTrainingImgNumber = Integer.parseInt(indexCharacter.toString());
			}
		}
	}
}
